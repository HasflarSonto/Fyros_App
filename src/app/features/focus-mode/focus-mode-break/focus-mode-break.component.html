<div class="focus-mode-break">
  <h1>
    {{
      (focusModeService.isBreakLong()
        ? T.F.FOCUS_MODE.LONG_BREAK_TITLE
        : T.F.FOCUS_MODE.SHORT_BREAK_TITLE
      ) | translate
    }}
  </h1>

  <div class="timer-container">
    @if (focusModeService.isBreakLong()) {
      <!-- Long break: keep the blue circle progress spinner -->
      <mat-progress-spinner
        mode="determinate"
        [value]="progressPercentage()"
        diameter="160"
        strokeWidth="6"
      >
      </mat-progress-spinner>
    } @else {
      <!-- Short break: green rounded background, no blue circle -->
      <div class="short-break-timer">
        <div class="timer-text">
          {{ remainingTime() | msToMinuteClockString }}
        </div>
      </div>
    }
    @if (focusModeService.isBreakLong()) {
      <div class="timer-text">
        {{ remainingTime() | msToClockString: true }}
      </div>
    }
  </div>

  <task-tracking-info></task-tracking-info>

  <p class="break-message">{{ T.F.FOCUS_MODE.BREAK_RELAX_MSG | translate }}</p>

  @if (remainingTime() > 0) {
    <button
      mat-stroked-button
      (click)="skipBreak()"
    >
      <mat-icon>skip_next</mat-icon>
      {{ T.F.FOCUS_MODE.SKIP_BREAK | translate }}
    </button>
  } @else {
    <div class="button-row">
      <button
        mat-stroked-button
        (click)="completeBreak()"
      >
        <mat-icon>done_all</mat-icon>
        {{ T.G.COMPLETE | translate }}
      </button>

      <button
        mat-raised-button
        color="primary"
        (click)="completeBreak()"
      >
        <mat-icon>arrow_forward</mat-icon>
        {{ T.F.FOCUS_MODE.CONTINUE_TO_NEXT_SESSION | translate }}
      </button>
    </div>
  }
</div>
